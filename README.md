# ChessGameDetector
Identification of digital chessboards through artificial intelligence applied to images


En la primera versión únicamente se detectaban las líneas del tablero así como los márgenes de la imagen y demás. Era bastante ineficaz, fui variando un poco la capacidad de como se establece  los parámetros dentro de HoughLinesP, y con esto se fue manejando la cantidad detectada de líneas dentro de la imagen. Cabe resaltar que estaba muy alejado de lo que se quería buscar.

La segunda versión, fue una implementación extra a la versión 1 en la que se optaba por detectar las líneas con los parámetros establecidos anteriormente pero ahora se buscaba lo que encerraba las lineas con sus intersecciones buscando entre ellas lo más parecido a un cuadrado. 

La tercera versión se centra partiendo de la versión dos con las líneas que encierren un cuadrado, además se le añade una condición que los ángulos que formen estas líneas(esto se puede conseguir con la arcotangente que forma dos líneas rectas, aunque no sé si lo implementé del todo bien), deben ser de 90º más o menos, todo tiene umbral. Esto también me daba bastante errores y terminé por buscar algo más certero.

La cuarta versión utiliza la detección de las líneas por la trasnformada de Hough y luego busco aquellas líneas que acabo de pintar sobre la imagen que encierren la forma de un cuadrado, centrándome en su contorno, después de eso pido que se me recorten esos "cuadrados", y luego tengo un array de cuadrados, los cuales voy a clasificar y quedarme con aquellos que cumplan con que tengan más o menos mismo ancho y largo(aquí también meto un umbral y debe ser alto porque algunas imágenes no me las pilla). Con esto consigo que ya extraiga la imagen de cuadrado en su cierta medida, aunque la captura 3 falla.

Parámetros utillizados de Canny, HoughLines, HoughLinesP:
-Version1: se ha utilizado para Canny 100, 200(se obtienen bastantes bordes inútiles sobre todos en capturas de toda la pantalla) y HoughLines el umbral de 100, lo que permite que se cuelen más líneas incluso las que hay entre piezas cercanas.
-Version2: Canny se mantiene lo mismo, pero se decide usar una función nueva con el objetivo de eliminar líneas cercanas entre piezas, HoughLinesP, y se establecen los mismos parámetros, pero añadiendo que la mínima longitud es 100 y la máxima en la misma línea es de 10. Se notan mejores resultados, reduciendo todas las líneas presentes entre piezas. También se añade el umbral entre líneas para que no tengan mucha diferencia de tamaño entre ellas, si ponías más de 1, dejaba de funcionar bien, porque había demasiada diferencia y pillaba cualquier cosa.
-Version3: decidí aumentar el valor umbral mínimo de Canny dando como resultado(150, 200) y aumentar el umbral de HoughLinesP(280) para filtrar más las líneas resultantes, esta fue la combinación más prometedora hasta que le metí imágenes recortadas exactas del tablero y fallaba bastante, pero en parte se debía a que el sistema de coordenadas a lo mejor no era del todo correcto.
-Version4: mantuve los valores de Canny pero reduce el umbral de HoughLinesP y luego decidí rechazar el umbral de comparación de líneas e implementar un umbral acorde al tamaño de la longitud del contorno recortado y estblecí que fuera 100 por el simple hecho que por debajo de eso no se detecta ninguna semejanza porque es como el punto de partida del error que hay dentro de la imagen dada.
